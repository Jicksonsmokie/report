<div id="loader" style="display: none;">Loading...</div>

<table id="table" style="display: none;">
  <thead>
    <tr>
      <th>id</th>
      <th>names</th>
      <th>date_of_birth</th>
      <th>age</th>
      <th>address</th>
      <th>pin_code</th>
      <th>phone_number</th>
      <th>hire_date</th>
    </tr>
  </thead>
  <tbody>
    <% @data.each do |record| %>
      <tr>
        <td><%= record['id'] %></td>
        <td><%= record['names'] %></td>
        <td><%= record['date_of_birth'] %></td>
        <td><%= record['age'] %></td>
        <td><%= record['address'] %></td>
        <td><%= record['pin_code'] %></td>
        <td><%= record['phone_number'] %></td>
        <td><%= record['hire_date'] %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<script>
  $(document).ready(function() {
    $(document).ready(function() {
    // Show loader
    $('#loader').show();

    $('#table').DataTable({
      "initComplete": function(settings, json) {
        // Hide loader and show the table when DataTable initialization is complete
        $('#loader').hide();
        $('#table').show();
      }
    });
  });
  });
</script>